# Copyright 2020-2024 Lowdefy, Inc

# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at

#     http://www.apache.org/licenses/LICENSE-2.0

# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# Template for block e2e test fixtures
# Replace {blockname} and {BlockName} with actual block name

id: blockname  # Page ID - lowercase, used in navigateToTestPage()
type: Box

blocks:
  # ============================================
  # BASIC RENDERING
  # ============================================

  - id: blockname_basic
    type: BlockName
    properties:
      title: Basic Title

  # ============================================
  # PROPERTY VARIANTS
  # Test each property from schema.json
  # ============================================

  - id: blockname_variant
    type: BlockName
    properties:
      title: Variant Title
      variant: value

  - id: blockname_disabled
    type: BlockName
    properties:
      title: Disabled
      disabled: true

  - id: blockname_small
    type: BlockName
    properties:
      title: Small
      size: small

  - id: blockname_large
    type: BlockName
    properties:
      title: Large
      size: large

  # ============================================
  # ATTRIBUTE TESTS
  # ============================================

  - id: blockname_href
    type: BlockName
    properties:
      title: With href
      href: https://example.com

  - id: blockname_newtab
    type: BlockName
    properties:
      title: New Tab
      newTab: true

  # ============================================
  # STYLE TESTS
  # ============================================

  - id: blockname_color
    type: BlockName
    properties:
      title: Custom Color
      color: '#52c41a'

  # ============================================
  # ICON/CHILD ELEMENT TESTS
  # ============================================

  - id: blockname_with_icon
    type: BlockName
    properties:
      title: With Icon
      icon: AiOutlineSave

  # ============================================
  # EVENT TESTS
  # Use _state and _if to verify events fired
  # ============================================

  - id: blockname_clickable
    type: BlockName
    properties:
      title:
        _if:
          test:
            _eq:
              - _state: blockname_clicked
              - true
          then: Clicked!
          else: Click me
    events:
      onClick:
        - id: set_clicked
          type: SetState
          params:
            blockname_clicked: true

  # For testing loading spinner during async action
  - id: blockname_loading
    type: BlockName
    properties:
      title: Test Loading
    events:
      onClick:
        - id: wait_action
          type: Wait
          params:
            ms: 2000

  # ============================================
  # EDGE CASES (optional)
  # ============================================

  - id: blockname_empty
    type: BlockName
    properties:
      title: ''
