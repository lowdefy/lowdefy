# K2: Undefined Payload Reference with ~ignoreBuildCheck
# =======================================================
# Tests that _payload reference warnings are suppressed with ~ignoreBuildChecks: true.
# The ~ignoreBuildCheck flag is on the same object as the operator.
#
# Expected: NO warning should be shown.

lowdefy: local

connections:
  - id: testApi
    type: AxiosHttp
    properties:
      baseURL: http://example.com

pages:
  - id: home
    type: Box
    requests:
      - id: testRequest
        type: AxiosHttp
        connectionId: testApi
        payload:
          userId:
            _state: selectedUser
            ~ignoreBuildChecks: true
        properties:
          url: /users
          params:
            id:
              _payload: undefinedKey
              ~ignoreBuildChecks: true
